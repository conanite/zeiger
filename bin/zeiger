#!/usr/bin/env ruby

require 'socket'
require 'zeiger'

pwd     = `pwd`.strip
command = $*[0]

case command
when "server" ; Zeiger::Server.new.run *$*
when "search" ; Zeiger::QueryClient.run pwd, *$*
when "files"  ; Zeiger::FileListClient.run pwd, *$*
end

# define file groups

# file_group :app, patterns: [/^app/ ]
# file_group :helpers, patterns: [/^app\/helpers/ ]
# file_group :spec, patterns: [/^spec/ ]
# file_group :sass, patterns: [/\.sass$/ ]
# file_group :all, groups: %w{app spec sass}


# writing to socket: nc -U /tmp/uss
